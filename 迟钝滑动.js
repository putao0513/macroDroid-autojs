// ç±³å®¶å¾®æ³¢ç‚‰æ“ä½œè„šæœ¬
setScreenMetrics(1080, 1920); // æ ¹æ®å®é™…å±å¹•åˆ†è¾¨ç‡è°ƒæ•´ over
auto.waitFor(); // ç­‰å¾…æ— éšœç¢æœåŠ¡å¼€å¯ over

try {
    console.log("è„šæœ¬å¼€å§‹æ‰§è¡Œï¼šç±³å®¶å¾®æ³¢ç‚‰æ“ä½œè„šæœ¬");
    // æ‰“å¼€ç±³å®¶åº”ç”¨ over
    launchApp("ç±³å®¶");
    sleep(1500);

    // ç‚¹å‡»å¾®æ³¢ç‚‰ over
    let microwave = id("efa").className("android.widget.TextView").text("å¾®æ³¢ç‚‰").findOne(4000);
    if (microwave) {
        console.log("æ‰¾åˆ°å¹¶ç‚¹å‡»å¾®æ³¢ç‚‰");
        microwave.parent().click();
        sleep(800);
    } else {
        toast("ğŸ’”æœªæ‰¾åˆ°å¾®æ³¢ç‚‰è®¾å¤‡ï¼Œè„šæœ¬ç»“æŸï¼");
        console.error("é”™è¯¯ï¼šæœªæ‰¾åˆ°å¾®æ³¢ç‚‰è®¾å¤‡ï¼Œè„šæœ¬é€€å‡ºã€‚");
        exit();
    }

    // ç‚¹å‡»æ›´å¤šæ“ä½œï¼ˆæ³¨ï¼šæ­¤å¤„ä»£ç ä¸å¾®æ³¢ç‚‰ç‚¹å‡»ç›¸åŒï¼Œå¯èƒ½å­˜åœ¨é‡å¤ï¼Œå»ºè®®ç¡®è®¤å®é™…æ§ä»¶IDï¼‰
    let moreOps = className("android.widget.TextView").text("æ›´å¤šæ“ä½œ").findOne(1000);
    if (moreOps) {
        console.log("æ‰¾åˆ°å¹¶ç‚¹å‡»æ›´å¤šæ“ä½œ");
        moreOps.parent().click();
        sleep(500);
    } else {
        console.log("æœªæ‰¾åˆ°æ›´å¤šæ“ä½œæŒ‰é’®ï¼Œè·³è¿‡æ­¤æ­¥éª¤ã€‚");
    }

    // ç‚¹å‡»è®¾å¤‡ï¼ˆè‹¥é¡µé¢å­˜åœ¨è¯¥é€‰é¡¹ï¼‰
    let deviceTab = className("android.widget.TextView").text("è®¾å¤‡").findOne(1000);
    if (deviceTab) {
        console.log("æ‰¾åˆ°å¹¶ç‚¹å‡»è®¾å¤‡Tab");
        deviceTab.parent().click();
        sleep(500);
    } else {
        console.log("æœªæ‰¾åˆ°è®¾å¤‡Tabï¼Œè·³è¿‡æ­¤æ­¥éª¤ã€‚");
    }

    // ç‚¹å‡»ç«åŠ›åŠ çƒ­ over
    let heatFunc = className("android.widget.TextView").text("ç«åŠ›åŠ çƒ­").findOne(2000);
    if (heatFunc) {
        console.log("æ‰¾åˆ°å¹¶ç‚¹å‡»ç«åŠ›åŠ çƒ­");
        heatFunc.parent().click();
        sleep(800);
    } else {
        toast("ğŸ’”æœªæ‰¾åˆ°ç«åŠ›åŠ çƒ­æŒ‰é’®ï¼Œè„šæœ¬ç»“æŸï¼");
        console.error("é”™è¯¯ï¼šæœªæ‰¾åˆ°ç«åŠ›åŠ çƒ­æŒ‰é’®ï¼Œè„šæœ¬é€€å‡ºã€‚");
        exit();
    }

    // ç‚¹å‡»çƒ¹é¥ªæ—¶é•¿ over
    let cookTime = className("android.widget.TextView").text("çƒ¹é¥ªæ—¶é•¿").findOne(2000);
    if (cookTime) {
        console.log("æ‰¾åˆ°å¹¶ç‚¹å‡»çƒ¹é¥ªæ—¶é•¿");
        cookTime.parent().click();
        sleep(800);
    } else {
        toast("ğŸ’”æœªæ‰¾åˆ°çƒ¹é¥ªæ—¶é•¿æŒ‰é’®ï¼Œè„šæœ¬ç»“æŸï¼");
        console.error("é”™è¯¯ï¼šæœªæ‰¾åˆ°çƒ¹é¥ªæ—¶é•¿æŒ‰é’®ï¼Œè„šæœ¬é€€å‡ºã€‚");
        exit();
    }

    // ========================================================= over
    // ğŸš€ğŸš€ğŸš€ æ¢å¤åˆ†æ­¥æ»‘åŠ¨ç­–ç•¥ï¼Œå¹¶åœ¨æ¯æ¬¡æ»‘åŠ¨åâ€œé¡¿ä¸€ä¸‹â€ over
    // ========================================================= over

    console.log("å¼€å§‹è¿›è¡Œåˆ†æ­¥æ»‘åŠ¨ï¼Œè°ƒæ•´åˆ†é’Ÿæ•°åˆ° 03 åˆ†é’Ÿ...");

    var slideStartX = device.width * 0.28;
    var slideStartY = 1995;
    // æ¯æ¬¡æ»‘åŠ¨ä¸€ä¸ªå•ä½çš„è·ç¦»ï¼Œè¿™ä¸ªå€¼ä¾ç„¶å¯èƒ½éœ€è¦å¾®è°ƒ over
    var singleStepDistance = 150;

    console.log("æ»‘åŠ¨èµ·å§‹åæ ‡ï¼š(" + slideStartX + ", " + slideStartY + ")");
    console.log("æ¯æ¬¡æ»‘åŠ¨å‘ä¸Šè·ç¦»ï¼š" + singleStepDistance + "pxã€‚");

    // ä»â€œ00â€åˆ°â€œ03â€éœ€è¦å‘ä¸Šæ»‘åŠ¨ 3 æ¬¡ over
    for (let i = 0; i < 3; i++) {
        // ä»å½“å‰ä½ç½®å‘ä¸Šæ»‘åŠ¨ä¸€ä¸ªå•ä½ over
        swipe(slideStartX, slideStartY, slideStartX, slideStartY - singleStepDistance, 300); // æ»‘åŠ¨æŒç»­æ—¶é—´ä¿æŒ over
        // æ¯æ¬¡æ»‘åŠ¨åâ€œé¡¿ä¸€ä¸‹â€ï¼Œç¡®ä¿UIæœ‰æ—¶é—´åˆ·æ–° over
        sleep(500); // æ¯æ¬¡æ»‘åŠ¨åç­‰å¾…0.5ç§’ï¼Œæ ¹æ®éœ€è¦è°ƒæ•´ over
        toast("ç¬¬ " + (i + 1) + " æ¬¡æ»‘åŠ¨å®Œæˆï¼");
        console.log("ç¬¬ " + (i + 1) + " æ¬¡æ»‘åŠ¨å·²æ‰§è¡Œï¼Œç­‰å¾…UIç¨³å®šã€‚");
    }

    toast("âœ…åˆ†é’Ÿæ•°å·²æ»‘åŠ¨åˆ°ç›®æ ‡å€¼ï¼ˆ03 åˆ†é’Ÿï¼‰ï¼");
    console.log("æ‰€æœ‰æ»‘åŠ¨æ“ä½œå®Œæˆï¼Œåˆ†é’Ÿæ•°å·²è°ƒæ•´ä¸º 03 åˆ†é’Ÿã€‚");

    // ========================================================= over
    // ğŸš€ğŸš€ğŸš€ ä¼˜åŒ–ååŠéƒ¨åˆ†è¡”æ¥ over
    // ========================================================= over

    // é¢å¤–çš„â€œè¹²ä¸€ä¸‹â€æ—¶é—´ï¼Œç¡®ä¿æœ€ç»ˆæ—¶é—´å€¼ç¨³å®šæ˜¾ç¤º over
    sleep(1000); // ç¡®ä¿æœ€ç»ˆæ—¶é—´ç¨³å®šï¼Œä»1500msè°ƒæ•´åˆ°1000msï¼Œå¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¾®è°ƒ over
    console.log("æ»‘åŠ¨æ“ä½œåï¼Œç­‰å¾…æœ€ç»ˆUIç¨³å®š...");

    // ç‚¹å‡»â€œå–æ¶ˆâ€æŒ‰é’® over
    let cancelButton = className("android.widget.TextView").text("ç¡®è®¤").findOne(2000);
    if (cancelButton) {
        console.log("æ‰¾åˆ°å¹¶ç‚¹å‡»â€œå–æ¶ˆâ€æŒ‰é’®");
        cancelButton.parent().click();
        sleep(800);
    } else {
        toast("ğŸ’”æœªæ‰¾åˆ°â€œå–æ¶ˆâ€æŒ‰é’®ï¼");
        console.error("é”™è¯¯ï¼šæœªæ‰¾åˆ°â€œå–æ¶ˆâ€æŒ‰é’®ã€‚");
    }

    toast("ğŸ‰æ“ä½œå®Œæˆï¼å¾®æ³¢ç‚‰å·²è®¾ç½®ä¸º 03 åˆ†é’Ÿå¹¶ç‚¹å‡»äº†å–æ¶ˆã€‚");
    console.log("è„šæœ¬æ‰§è¡Œå®Œæ¯•ï¼šå¾®æ³¢ç‚‰å·²æˆåŠŸè®¾ç½®ä¸º 03 åˆ†é’Ÿå¹¶ç‚¹å‡»äº†å–æ¶ˆã€‚");

} catch (e) {
    toast("âŒè„šæœ¬æ‰§è¡Œå‡ºé”™ï¼š" + e.message);
    console.error("è„šæœ¬æ‰§è¡Œå‡ºé”™ï¼š", e.message);
}
